var t=Uint8Array,F=Uint16Array,sr=Int32Array,er=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ar=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),hr=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),nr=function(r,e){for(var a=new F(31),i=0;i<31;++i)a[i]=e+=1<<r[i-1];var o=new sr(a[30]);for(i=1;i<30;++i)for(var b=a[i];b<a[i+1];++b)o[b]=b-a[i]<<5|i;return{b:a,r:o}},ir=nr(er,2),or=ir.b,yr=ir.r;or[28]=258,yr[258]=28;for(var gr=nr(ar,0).b,vr=new F(32768),v=0;v<32768;++v){var m=(43690&v)>>1|(21845&v)<<1;m=(61680&(m=(52428&m)>>2|(13107&m)<<2))>>4|(3855&m)<<4,vr[v]=((65280&m)>>8|(255&m)<<8)>>1}var M=function(r,e,a){for(var i=r.length,o=0,b=new F(e);o<i;++o)r[o]&&++b[r[o]-1];var g,w=new F(e);for(o=1;o<e;++o)w[o]=w[o-1]+b[o-1]<<1;{g=new F(1<<e);var d=15-e;for(o=0;o<i;++o)if(r[o])for(var z=o<<4|r[o],h=e-r[o],n=w[r[o]-1]++<<h,f=n|(1<<h)-1;n<=f;++n)g[vr[n]>>d]=z}return g},L=new t(288);for(v=0;v<144;++v)L[v]=8;for(v=144;v<256;++v)L[v]=9;for(v=256;v<280;++v)L[v]=7;for(v=280;v<288;++v)L[v]=8;var fr=new t(32);for(v=0;v<32;++v)fr[v]=5;var wr=M(L,9),pr=M(fr,5),H=function(r){for(var e=r[0],a=1;a<r.length;++a)r[a]>e&&(e=r[a]);return e},u=function(r,e,a){var i=e/8|0;return(r[i]|r[i+1]<<8)>>(7&e)&a},$=function(r,e){var a=e/8|0;return(r[a]|r[a+1]<<8|r[a+2]<<16)>>(7&e)},kr=function(r){return(r+7)/8|0},mr=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],c=function(r,e,a){var i=new Error(e||mr[r]);if(i.code=r,Error.captureStackTrace&&Error.captureStackTrace(i,c),!a)throw i;return i},dr=function(r,e,a,i){var o=r.length,b=i?i.length:0;if(!o||e.f&&!e.l)return a||new t(0);var g=!a,w=g||e.i!=2,d=e.i;g&&(a=new t(3*o));var z=function(T){var Z=a.length;if(T>Z){var k=new t(Math.max(2*Z,T));k.set(a),a=k}},h=e.f||0,n=e.p||0,f=e.b||0,p=e.l,N=e.d,A=e.m,E=e.n,B=8*o;do{if(!p){h=u(r,n,1);var C=u(r,n+1,3);if(n+=3,!C){var I=r[(s=kr(n)+4)-4]|r[s-3]<<8,K=s+I;if(K>o){d&&c(0);break}w&&z(f+I),a.set(r.subarray(s,K),f),e.b=f+=I,e.p=n=8*K,e.f=h;continue}if(C==1)p=wr,N=pr,A=9,E=5;else if(C==2){var O=u(r,n,31)+257,V=u(r,n+10,15)+4,G=O+u(r,n+5,31)+1;n+=14;for(var U=new t(G),Q=new t(19),l=0;l<V;++l)Q[hr[l]]=u(r,n+3*l,7);n+=3*V;var R=H(Q),tr=(1<<R)-1,lr=M(Q,R);for(l=0;l<G;){var s,_=lr[u(r,n,tr)];if(n+=15&_,(s=_>>4)<16)U[l++]=s;else{var D=0,Y=0;for(s==16?(Y=3+u(r,n,3),n+=2,D=U[l-1]):s==17?(Y=3+u(r,n,7),n+=3):s==18&&(Y=11+u(r,n,127),n+=7);Y--;)U[l++]=D}}var X=U.subarray(0,O),y=U.subarray(O);A=H(X),E=H(y),p=M(X,A),N=M(y,E)}else c(1);if(n>B){d&&c(0);break}}w&&z(f+131072);for(var ur=(1<<A)-1,cr=(1<<E)-1,W=n;;W=n){var x=(D=p[$(r,n)&ur])>>4;if((n+=15&D)>B){d&&c(0);break}if(D||c(2),x<256)a[f++]=x;else{if(x==256){W=n,p=null;break}var P=x-254;if(x>264){var S=er[l=x-257];P=u(r,n,(1<<S)-1)+or[l],n+=S}var j=N[$(r,n)&cr],q=j>>4;if(j||c(3),n+=15&j,y=gr[q],q>3&&(S=ar[q],y+=$(r,n)&(1<<S)-1,n+=S),n>B){d&&c(0);break}w&&z(f+131072);var J=f+P;if(f<y){var rr=b-y,br=Math.min(y,J);for(rr+f<0&&c(3);f<br;++f)a[f]=i[rr+f]}for(;f<J;++f)a[f]=a[f-y]}}e.l=p,e.p=W,e.b=f,e.f=h,p&&(h=1,e.m=A,e.d=N,e.n=E)}while(!h);return f!=a.length&&g?(function(T,Z,k){return(k==null||k>T.length)&&(k=T.length),new t(T.subarray(Z,k))})(a,0,f):a.subarray(0,f)},xr=new t(0);function zr(r,e){return dr(r.subarray((a=r,i=e&&e.dictionary,((15&a[0])!=8||a[0]>>4>7||(a[0]<<8|a[1])%31)&&c(6,"invalid zlib data"),(a[1]>>5&1)==+!i&&c(6,"invalid zlib data: "+(32&a[1]?"need":"unexpected")+" dictionary"),2+(a[1]>>3&4)),-4),{i:2},e&&e.out,e&&e.dictionary);var a,i}var Tr=typeof TextDecoder<"u"&&new TextDecoder;try{Tr.decode(xr,{stream:!0})}catch{}export{zr as unzlibSync};
